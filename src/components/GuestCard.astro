---
import GuestSocialLinks from "./GuestSocialLinks.astro";

interface Props {
  name: string;
  title?: string;
  photo?: string;
  slug: string;
  social: {
    website?: string;
    twitter?: string;
    github?: string;
    youtube?: string;
    linkedin?: string;
    bluesky?: string;
    twitch?: string;
  };
  showLink?: boolean;
}

const {
  name,
  title,
  photo,
  slug,
  social,
  showLink = true,
} = Astro.props;
---

<div
  class="flex flex-col sm:flex-row gap-4 p-6 rounded-lg bg-secondary/50 border border-border"
>
  {
    photo && (
      <div class="shrink-0">
        <img
          src={photo}
          alt={name}
          class="w-24 h-24 rounded-full object-cover"
        />
      </div>
    )
  }

  <div class="flex-1 min-w-0">
    <div class="mb-3">
      {
        showLink ? (
          <a
            href={`/guests/${slug}`}
            class="text-2xl font-bold text-foreground hover:text-pink-600 dark:hover:text-pink-400 transition-colors"
          >
            {name}
          </a>
        ) : (
          <h3 class="text-2xl font-bold text-foreground">{name}</h3>
        )
      }
      {title && <p class="text-muted-foreground mt-1">{title}</p>}
    </div>

    <GuestSocialLinks social={social} />
  </div>
</div>
