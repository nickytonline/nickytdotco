---
import navigation from '../data/navigation.json';

export interface Props {
  ariaLabel?: string;
  currentPath?: string;
}

const { ariaLabel = 'navigation', currentPath } = Astro.props;

interface NavItem {
  text: string;
  url: string;
  external?: boolean;
  rel?: string;
}

const items = navigation.items as NavItem[];
---

{items && items.length > 0 && (
  <div class="box-flex flex-wrap gap-base">
    <nav class="nav" aria-label={ariaLabel}>
      <ul class="nav__list box-flex flex-wrap">
        {items.map((item) => {
          const isCurrent = currentPath === item.url;
          return (
            <li class="nav__item">
              <a
                href={item.url}
                rel={item.rel}
                aria-current={isCurrent ? 'page' : undefined}
              >
                {item.text}
              </a>
            </li>
          );
        })}
      </ul>
    </nav>
    <theme-toggle></theme-toggle>
  </div>
)}
