---
import navigation from "../data/navigation.json";

export interface Props {
  ariaLabel?: string;
  currentPath?: string;
}

const { ariaLabel = "navigation", currentPath } = Astro.props;

interface NavItem {
  text: string;
  url: string;
  external?: boolean;
  rel?: string;
}

const items = navigation.items as NavItem[];
---

{
  items && items.length > 0 && (
    <div class="flex flex-wrap gap-base mb-8">
      <nav aria-label={ariaLabel}>
        <ul class="flex flex-wrap items-center gap-500 p-100 -m-100">
          {items.map((item) => {
            const isCurrent = currentPath === item.url;
            return (
              <li class="shrink-0 py-300">
                <a
                  href={item.url}
                  rel={item.rel}
                  class="font-semibold text-current no-underline hover:underline"
                  aria-current={isCurrent ? "page" : undefined}
                >
                  {item.text}
                </a>
              </li>
            );
          })}
        </ul>
      </nav>
      <theme-toggle />
    </div>
  )
}
